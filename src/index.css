@import "tailwindcss";

@theme {
  /* 基础色调：宣纸白、水墨黑、朱砂红 */
  --color-lz-paper: #F7F7F7;
  /* 更纯净的白，微带暖色 */
  --color-lz-paper-dark: #E5E5E5;

  --color-lz-ink: #2C2C2C;
  /* 浓墨 */
  --color-lz-ink-light: #595959;
  /* 淡墨 */
  --color-lz-ink-lighter: #8C8C8C;
  /* 极淡 */

  --color-lz-red: #B83B3B;
  /* 朱砂红 - 用于强调和主按钮 */
  --color-lz-red-dark: #8A2020;

  /* 鎏金 - 用于高级点缀 (Premium Premium) */
  --color-lz-gold: #CA8A04;


  /* 字体：衬线体用于标题，无衬线用于正文 */
  --font-serif: "STSong", "Songti SC", "SimSun", "STKaiti", "Kaiti SC", serif;
  --font-sans: "STSong", "Songti SC", "SimSun", "STKaiti", "Kaiti SC", serif;
}

.dark {
  color-scheme: dark;
  --color-lz-paper: #11100d;
  --color-lz-paper-dark: #1a1814;
  --color-lz-ink: #e6dfd4;
  --color-lz-ink-light: #c7bfb2;
  --color-lz-ink-lighter: #a39a8c;
  --color-lz-red: #b24a3a;
  --color-lz-red-dark: #8a2d25;
  --color-lz-gold: #EAB308;

}

@layer base {
  body {
    @apply bg-lz-paper text-lz-ink font-sans antialiased;
    /* 极简纸纹效果 - 可选，这里用极其微弱的噪点或保持纯色 */
    background-color: var(--color-lz-paper);
    min-height: 100vh;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-serif font-bold;
  }
}

@layer components {

  /* 主按钮（朱砂红印章风格） */
  .btn-primary {
    @apply px-6 py-2 transition-all duration-300 transform active:scale-95 cursor-pointer flex items-center justify-center text-white bg-lz-red rounded-sm shadow-sm hover:bg-lz-red-dark tracking-widest font-serif;
  }

  /* 次要按钮/轮廓按钮（水墨描边） */
  .btn-outline {
    @apply px-6 py-2 transition-all duration-300 transform active:scale-95 cursor-pointer flex items-center justify-center border border-lz-ink text-lz-ink hover:bg-lz-ink hover:text-white rounded-sm font-serif;
  }

  /* 输入框（极简下划线） */
  .input-field {
    @apply w-full bg-transparent border-b border-lz-ink-lighter focus:border-lz-red outline-none py-2 text-lz-ink transition-colors placeholder-lz-ink-lighter/50;
  }

  /* 悬浮玻璃拟态容器 */
  .glass-panel {
    @apply bg-white/70 backdrop-blur-md border border-white/20 shadow-sm;
  }

  /* 液态玻璃 - 高级质感 (Liquid Glass) */
  .glass-liquid {
    @apply bg-white/80 backdrop-blur-xl border border-white/40 shadow-2xl;
    /* 移除 ring，改用更自然的阴影 */
  }

  /* 极简卡片 */
  .minimal-card {
    @apply bg-white p-6 rounded-sm border border-gray-100;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  }

  /* 命盘工具栏 */
  .chart-toolbar {
    @apply fixed right-4 top-1/2 -translate-y-1/2 z-40;
    @apply flex flex-col gap-2;
    @apply bg-white/95 backdrop-blur-md rounded-lg shadow-lg;
    @apply border border-lz-paper-dark/50;
    @apply p-2;
  }

  .toolbar-item-wrapper {
    @apply relative;
  }

  .toolbar-btn {
    @apply w-10 h-10 flex items-center justify-center;
    @apply rounded-md transition-all duration-200;
    @apply text-lz-ink-light hover:text-lz-red;
    @apply hover:bg-lz-red/10;
    @apply cursor-pointer;
    @apply border border-transparent hover:border-lz-red/20;
  }

  .toolbar-btn:active {
    @apply scale-95;
  }

  /* Tooltip */
  .toolbar-tooltip {
    @apply absolute right-full mr-3 top-1/2 -translate-y-1/2;
    @apply flex items-center gap-3;
    @apply bg-white/95 backdrop-blur-md rounded-lg shadow-lg;
    @apply border border-lz-paper-dark/50;
    @apply px-3 py-2;
    @apply whitespace-nowrap;
    animation: tooltipFadeIn 0.2s ease-out forwards;
  }

  @keyframes tooltipFadeIn {
    from {
      opacity: 0;
      transform: translateY(-50%) translateX(8px);
    }

    to {
      opacity: 1;
      transform: translateY(-50%) translateX(0);
    }
  }

  .tooltip-label {
    @apply text-sm text-lz-ink font-medium;
  }

  .tooltip-shortcut {
    @apply flex items-center gap-1 text-xs text-lz-ink-lighter;
  }

  .tooltip-shortcut kbd {
    @apply px-1.5 py-0.5 bg-lz-paper rounded text-lz-ink-light;
    @apply border border-lz-paper-dark/50;
    @apply font-mono text-xs;
  }

  .tooltip-shortcut span {
    @apply text-lz-ink-lighter;
  }

  /* Modal 弹窗样式 */
  .modal-overlay {
    @apply fixed inset-0 z-50 flex items-center justify-center;
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    animation: fadeIn 0.2s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  .modal-content {
    @apply bg-white rounded-lg shadow-2xl max-w-md w-full mx-4;
    animation: slideIn 0.2s ease-out;
  }

  .ai-interpret-modal {
    @apply max-w-5xl w-full;
    max-height: 85vh;
    overflow-y: auto;
  }

  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .modal-header {
    @apply flex items-center gap-3 px-5 py-4 border-b border-lz-paper-dark/30;
  }

  .modal-close-btn {
    @apply p-1.5 rounded-md text-lz-ink-light hover:text-lz-ink hover:bg-lz-paper-dark/50 transition-colors cursor-pointer;
  }

  .modal-title {
    @apply text-lg font-serif font-semibold text-lz-ink tracking-wide;
  }

  /* 设置面板样式 */
  .settings-modal {
    @apply max-w-sm;
  }

  .confirm-modal {
    @apply max-w-sm;
  }

  .confirm-body {
    @apply px-5 py-4;
  }

  .confirm-text {
    @apply text-sm text-lz-ink-light;
  }

  .confirm-actions {
    @apply flex justify-end gap-3 px-5 pb-5;
  }

  .settings-body {
    @apply p-5;
  }

  .settings-group {
    @apply space-y-6;
  }

  .settings-group+.settings-group {
    @apply mt-8 pt-6 border-t border-lz-paper-dark/30;
  }

  .settings-item {
    @apply flex items-center justify-between;
  }

  .settings-item.radio-group {
    @apply flex-col items-start gap-3;
  }

  .settings-label {
    @apply text-sm font-medium text-lz-red;
  }

  /* Toggle 开关样式 */
  .toggle-switch {
    @apply relative w-12 h-6 rounded-full cursor-pointer transition-colors duration-200;
    background-color: #d1d5db;
  }

  .toggle-switch.active {
    background-color: var(--color-lz-red);
  }

  .toggle-slider {
    @apply absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow transition-transform duration-200;
  }

  .toggle-switch.active .toggle-slider {
    transform: translateX(24px);
  }

  /* Radio 单选样式 */
  .radio-options {
    @apply flex items-center gap-6;
  }

  .radio-option {
    @apply flex items-center gap-2 cursor-pointer text-sm text-lz-ink;
  }

  .radio-option input[type="radio"] {
    @apply hidden;
  }

  .radio-custom {
    @apply relative w-4 h-4 border-2 border-lz-ink-lighter rounded-full;
    transition: border-color 0.2s;
  }

  .radio-option input[type="radio"]:checked+.radio-custom {
    @apply border-lz-red;
  }

  .radio-option input[type="radio"]:checked+.radio-custom::after {
    content: '';
    @apply absolute top-1/2 left-1/2 w-2 h-2 bg-lz-red rounded-full;
    transform: translate(-50%, -50%);
  }

  /* 已保存命盘列表样式 */
  .saved-charts-modal {
    @apply max-w-md;
  }

  .saved-charts-body {
    @apply p-4 max-h-96 overflow-y-auto;
  }

  .empty-state {
    @apply text-center py-10;
  }

  .empty-state p {
    @apply text-lz-ink-light;
  }

  .empty-hint {
    @apply text-sm text-lz-ink-lighter mt-2;
  }

  .saved-charts-list {
    @apply space-y-2;
  }

  .saved-chart-item {
    @apply flex items-center justify-between p-3 rounded-lg cursor-pointer;
    @apply hover:bg-lz-paper-dark/50 transition-colors;
    @apply border border-transparent hover:border-lz-red/20;
  }

  .chart-info {
    @apply flex flex-col gap-1;
  }

  .chart-name {
    @apply flex items-center gap-2 text-lz-ink font-medium;
  }

  .chart-date {
    @apply flex items-center gap-1.5 text-xs text-lz-ink-lighter;
  }

  .delete-btn {
    @apply p-2 rounded-md text-lz-ink-lighter hover:text-lz-red hover:bg-lz-red/10 transition-colors cursor-pointer;
  }

  /* Toast 提示样式 */
  .toast {
    @apply fixed bottom-8 left-1/2 -translate-x-1/2 z-50;
    @apply flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg;
    @apply text-sm font-medium;
    @apply bg-white/95 backdrop-blur-md;
    @apply border border-lz-paper-dark/60;
    @apply text-lz-ink;
    animation: toastSlideIn 0.3s ease-out;
  }

  @keyframes toastSlideIn {
    from {
      opacity: 0;
      transform: translate(-50%, 20px);
    }

    to {
      opacity: 1;
      transform: translate(-50%, 0);
    }
  }

  .toast-success {
    @apply border-lz-red/40;
  }

  .toast-error {
    @apply border-red-600/40 text-red-700;
  }

  .toast-info {
    @apply border-lz-ink-lighter/40 text-lz-ink;
  }

  .toast-icon {
    @apply flex-shrink-0;
  }

  .toast-message {
    @apply flex-1;
  }

  .dark .chart-toolbar,
  .dark .toolbar-tooltip,
  .dark .modal-content,
  .dark .glass-panel,
  .dark .minimal-card,
  .dark .toast {
    background-color: rgba(17, 16, 13, 0.92);
    border-color: rgba(230, 223, 212, 0.08);
  }

  .dark .modal-content {
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.45);
  }

  /* Iztro 相关样式 */
  .iztro-theme-override {
    padding: 0 !important;
    background-color: transparent !important;
  }

  .fullscreen-chart {
    width: 100vw !important;
    height: 100vh !important;
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    cursor: pointer;
    overflow: hidden;
  }

  .fullscreen-chart .iztro-astrolabe {
    --chart-size: max(100vw, 100vh);
    width: var(--chart-size) !important;
    height: var(--chart-size) !important;
    max-width: 100vw !important;
    max-height: 100vh !important;
  }

  .hide-transit-stars .iztro-palace-horo-star {
    display: none !important;
  }

  .hide-horoscope .iztro-palace-dynamic-name,
  .hide-horoscope .iztro-palace-scope,
  .hide-horoscope #palace-line,
  .hide-horoscope .iztro-center-palace .center-title:nth-of-type(2),
  .hide-horoscope .iztro-center-palace .center-title:nth-of-type(2)+.basic-info,
  .hide-horoscope .horo-buttons,
  .hide-horoscope .solar-horoscope {
    display: none !important;
  }

  .hide-horoscope .iztro-palace-decadal-active,
  .hide-horoscope .iztro-palace-yearly-active,
  .hide-horoscope .iztro-palace-monthly-active,
  .hide-horoscope .iztro-palace-daily-active,
  .hide-horoscope .iztro-palace-hourly-active {
    background-color: transparent !important;
  }

  .hide-birth-time .iztro-center-palace .basic-info:first-of-type li:nth-child(3),
  .hide-birth-time .iztro-center-palace .basic-info:first-of-type li:nth-child(4),
  .hide-birth-time .iztro-center-palace .basic-info:first-of-type li:nth-child(5),
  .hide-birth-time .iztro-center-palace .basic-info:first-of-type li:nth-child(6),
  .hide-birth-time .iztro-center-palace .basic-info:first-of-type li:nth-child(7),
  .hide-birth-time .iztro-center-palace .basic-info:first-of-type li:nth-child(8) {
    display: none !important;
  }
}
